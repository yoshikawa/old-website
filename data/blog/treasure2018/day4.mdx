---
title: 'Treasure2018 4æ—¥ç›® WebAPI'
date: '2018-08-16'
draft: false
images: ['/static/images/treasure/all.jpg']
tags: ['internship', 'treasure']
---

#### å‰å›ã®è¨˜äº‹

[Treasure2018 3 æ—¥ç›®](https://yoshikawa.dev/blog/treasure2018/day3)

## WebAPI ã«ã¤ã„ã¦

Treasure4 æ—¥ç›®ã¯ WebAPI ã‚’å­¦ã³ã¾ã—ãŸã€‚

### ã‚„ã£ãŸã“ã¨

å…±é€šæ„è­˜ ğŸ’ª

API è¨­è¨ˆã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹ã‚’å­¦ã‚“ã ã€‚

### ã‚ã‹ã‚‰ãªã‹ã£ãŸã¨ã“ã‚

Golang ã‚’ã‚‚ã£ã¨æ›¸ã‘ã‚‹ã‚ˆã†ã«ãªã‚ŠãŸã„!

### memo

WebAPI ã‚’ç”¨æ„ã™ã‚‹ã¨ãã«ç¾å ´ã§æ„è­˜ã—ã¦ã„ã‚‹ã“ã¨

- å…±é€šæ„è­˜

#### RESTful API ã®åˆ¶ç´„

- client-server
- stateless
- cache
- uniform interface
- layered system
- Code-On-Demand(COD)

#### client-server

ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ/ã‚µãƒ¼ãƒã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’åˆ†é›¢

#### stateless/stateful

ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®å¯¾è©±ã«åˆ¶ç´„ã‚’è¿½åŠ ã€‚

èªè¨¼: cookie vs token

#### cache

GET ã ã£ãŸã‚‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ã†

POST, PUT, DELETE ã®ã¨ãã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’æ›´æ–°

#### uniform interface

- URI
- HTTP
- hypermedia

https://martinfowler.com/articles/richardsonMaturityModel.html

ãƒ¬ãƒ™ãƒ«åˆ†ã‘

ãƒ¬ãƒ™ãƒ« 0: `POST /createComment {"body": "xxx", "repos": "xxxx", "issueid", 2}`

ãƒ¬ãƒ™ãƒ« 1: resource `POST /repos/xxx/xxx/:issues/7 {"body": "hoge"}`

ãƒ¬ãƒ™ãƒ« 2: resource + http method `POST /repos/xxx/xxx/:issues/5 {"body": "hoge"}`

ãƒ¬ãƒ™ãƒ« 3: Hypermedia REST

#### layered system

data, view ã‚’åˆ†é›¢

#### Code-On-Demand

xml,json ã§è¿”ã™ã“ã¨ãŒå¤šã„

#### WebAPI ä½œæˆã«å›°ã£ãŸã‚‰â€¦

è‰¯ã„ã‚‚ã®ã‚’ã‚³ãƒ”ãƒ¼ã—ã‚ˆã†!

- GitHub
- AWS S3
- PayPal

#### Cookie Session

Cookie ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã«å€¤ã‚’ä¿å­˜ã™ã‚‹ã€‚
Cookie ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã«å€¤ãŒã‚ã‚‹ã®ã§ã€ãƒ‡ãƒ¼ã‚¿ã‚’æ”¹ç«„ã—ã‚„ã™ã„ã€‚

Session ã¯ã‚µãƒ¼ãƒå´ã«å€¤ã‚’ä¿å­˜ã™ã‚‹ã€‚
Session ã¯ã‚µãƒ¼ãƒå´ã«å€¤ãŒã‚ã‚‹ã®ã§ã€ãƒ‡ãƒ¼ã‚¿ã‚’æ”¹ç«„ã—ã«ãã„ã€‚
å–ã‚Šå‡ºã™ãŸã‚ã«ã¯ã€SessionID ã‚’é€ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚

#### URL è¨­è¨ˆ

- /{resource}/{id}
- singular vs plural(ã‚‚ã® vs ã‚‚ã® s)

#### URL è¨­è¨ˆ(ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿)

- path
- query string

æ¤œç´¢ã™ã‚‹(search)å€¤ã¯ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿

#### HTTP method

- GET,POST,PUT,PATCH,DELETE
- PUT vs PATCH

#### ãŸã‚ã«ãªã‚‹è©±

å¤¢ã‚’è¿½ã£ã¦ã„ãªã„äººã¯ã¤ã¾ã‚‰ãªã„

[https://supporterz.jp/](https://supporterz.jp/)

ã‚«ãƒƒã‚³ã‚¤ã‚¤ã‚ªãƒˆãƒŠã‚’å¢—ã‚„ã™

VOYAGE GROUP ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã¯ç¤¾å“¡ã®ã‚³ãƒŸãƒƒãƒˆãŒå¤šã„!

#### æ¬¡å›ã®è¨˜äº‹

[Treasure2018 5 æ—¥ç›®](https://yoshikawa.dev/blog/treasure2018/day5)
